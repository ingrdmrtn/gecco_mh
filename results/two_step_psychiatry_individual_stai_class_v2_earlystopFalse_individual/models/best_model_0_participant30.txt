class ParticipantModel3(CognitiveModelBase):
    """
    Hypothesis: Anxious Forgetting (Tunnel Vision).
    Anxiety consumes cognitive resources, potentially leading to faster decay of 
    memory for unchosen options. This model implements a decay mechanism where 
    the values of unchosen actions (both Stage 1 and Stage 2) decay towards 0 
    at a rate determined by STAI.
    
    Q_unchosen = Q_unchosen * (1 - decay_factor * stai)
    
    Parameter Bounds:
    -----------------
    alpha: [0, 1]
    beta: [0, 10]
    decay_factor: [0, 1]
    """

    def unpack_parameters(self, model_parameters: tuple) -> None:
        self.alpha, self.beta, self.decay_factor = model_parameters

    def value_update(self, action_1: int, state: int, action_2: int, reward: float) -> None:
        # Standard update for chosen actions
        delta_2 = reward - self.q_stage2[state, action_2]
        self.q_stage2[state, action_2] += self.alpha * delta_2
        
        delta_1 = self.q_stage2[state, action_2] - self.q_stage1[action_1]
        self.q_stage1[action_1] += self.alpha * delta_1
        
        # Decay for unchosen actions
        decay_rate = self.decay_factor * self.stai
        
        # Decay unchosen Stage 1 action
        unchosen_a1 = 1 - action_1
        self.q_stage1[unchosen_a1] *= (1.0 - decay_rate)
        
        # Decay unchosen Stage 2 action (only in the visited state)
        unchosen_a2 = 1 - action_2
        self.q_stage2[state, unchosen_a2] *= (1.0 - decay_rate)

cognitive_model3 = make_cognitive_model(ParticipantModel3)