class ParticipantModel3(CognitiveModelBase):
    """
    Hypothesis: Anxiety creates a static 'safety' bias.
    High anxiety individuals exhibit a fixed bias towards a specific option (Option 0),
    treating it as a 'default' or 'safe' choice to avoid decision conflict.
    This bias is added to the Q-values and scales with STAI.
    
    Parameter Bounds:
    -----------------
    alpha: [0, 1] (Learning rate)
    beta: [0, 10] (Inverse temperature)
    bias_magnitude: [0, 5] (Base magnitude of the safety bias)
    """

    def unpack_parameters(self, model_parameters: tuple) -> None:
        self.alpha, self.beta, self.bias_magnitude = model_parameters

    def policy_stage1(self) -> np.ndarray:
        # Calculate safety bias
        # We assume Option 0 is the "safe" default.
        # The strength of this bias depends on the participant's anxiety level.
        # Bias = parameter * STAI
        safety_bias_val = self.bias_magnitude * self.stai
        
        # Add bias to Option 0's Q-value
        biased_q = self.q_stage1.copy()
        biased_q[0] += safety_bias_val
        
        return self.softmax(biased_q, self.beta)

    # Standard value update (TD learning)
    # The bias affects choice, but not the learning of the Q-values themselves.

cognitive_model3 = make_cognitive_model(ParticipantModel3)